{"version":3,"sources":["components/board/square/square.js","utils/utils.js","components/board/board.js","utils/selectionIsAllowed.js","components/takenPieces/takenPieces.js","components/currentPlayer/currentPlayer.js","components/game/game.js","components/landingPage/tab/tab.js","components/landingPage/landingPage.js","utils/possibleMoves.js","components/pieces/piece.js","utils/coords.js","utils/selectEmptyRange.js","components/pieces/queen.js","utils/prepareNewBoard.js","utils/isChecked.js","utils/getKing.js","utils/allowedMoves.js","App.js","utils/checkGameEnd.js","serviceWorker.js","components/pieces/bishop.js","components/pieces/king.js","components/pieces/knight.js","components/pieces/pawn.js","components/pieces/rook.js","store/reducer.js","utils/initializeBoard.js","index.js","components/takenPieces/takenPieces.module.css","components/board/square/square.module.css","components/currentPlayer/currentPlayer.module.css","components/landingPage/landingPage.module.css","components/game/game.module.css","components/landingPage/tab/tab.module.css","components/board/board.module.css"],"names":["square","_ref","url","color","state","clicked","classesArr","classes","concat","push","react_default","a","createElement","className","join","style","backgroundImage","onClick","mapIndexToKey","index","_mapIndexToCoords","mapIndexToCoords","_mapIndexToCoords2","Object","slicedToArray","i","j","String","fromCharCode","mapCoordsToIndex","_ref2","Math","floor","connect","dispatch","clickHandler","selectedSquare","type","allowedMoves","includes","action","from","to","socket","emit","roomId","gameId","id","player","whiteMove","board","selectionIsAllowed","map","figure","squareState","checkedSquare","board_square_square","key","image","taken","summed","length","reduce","sum","hasOwnProperty","name","objectSpread","defineProperty","elements","values","_ref3","num","game","window","onbeforeunload","confirm","components_takenPieces_takenPieces","components_board_board","components_currentPlayer_currentPlayer","tab","isActive","children","LandingPage","selectedTab","newGame","document","getElementById","value","_this","props","joinGame","idInput","select","this","setState","execCommand","_this2","tabContent","Fragment","placeholder","landingPage","landingPage_tab_tab","selectTab","readOnly","copyId","Component","possibleMoves","selected","getMoves","filter","Piece","classCallCheck","firstMove","wrapper","func","apply","arguments","onBoardRange","el","coords","row","column","diagonalX","shiftY","diagonalY","shapeL","around","forward","direction","sides","selectEmptyRange","indicesList","start","slice","indexOf","lastIndexOf","end","Queen","possibleConstructorReturn","getPrototypeOf","call","col","toConsumableArray","prepareNewBoard","updatedBoard","isChecked","king","total","getKing","move","App","startGame","history","endGame","alert","clearGame","on","setGame","handleMove","moveHandler","endMessage","moves","checkGameEnd","Switch","Route","exact","path","component","Game","Redirect","withRouter","Boolean","location","hostname","match","Bishop","King","movement","castlingRight","castlingLeft","Knight","Pawn","capturing","_coords$forward","_coords$forward2","firstSquare","secondSquare","Rook","initialState","openSocket","initialSetup","a1","b1","c1","d1","e1","f1","g1","h1","a2","b2","c2","d2","e2","f2","g2","h2","a7","b7","c7","d7","e7","f7","g7","h7","a8","b8","c8","d8","e8","f8","g8","h8","Array","fill","initializeBoard","black","white","reducer","undefined","updatedTaken","opponent","store","createStore","app","es","BrowserRouter","src_App","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","module","exports","taken-white","taken-black","number","square-light","square-dark","square-selected","square-checked","square-allowed","current-container","current-square","current-black","current-white","container","waiting-container","tab-content","field","tab-item","tab-active","board-container"],"mappings":"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","file":"static/js/main.2fd30cc3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport classes from './square.module.css';\r\n\r\nconst square = ({url, color, state, clicked}) => {\r\n  const classesArr = [classes['square'], classes[`square-${color}`]];\r\n  if (state) classesArr.push(classes[`square-${state}`]);\r\n    \r\n  return <div\r\n    className={classesArr.join(' ')}\r\n    style={{backgroundImage: url}}\r\n    onClick={clicked} />\r\n};\r\n\r\nexport default square;\r\n","export const mapIndexToKey = (index) => {\r\n  const [i, j] = mapIndexToCoords(index);\r\n  return `${String.fromCharCode(97 + j)}${8 - i}`;\r\n};\r\n\r\nexport const mapCoordsToIndex = ([i ,j]) => {\r\n  return i * 8 + j;\r\n};\r\n\r\nexport const mapIndexToCoords = (index) => {\r\n  return [Math.floor(index / 8), index % 8];\r\n};\r\n","import React from 'react';\r\nimport { connect } from  'react-redux';\r\n\r\nimport classes from './board.module.css';\r\nimport Square from './square/square';\r\nimport { mapIndexToCoords, mapIndexToKey } from '../../utils/utils';\r\nimport { selectionIsAllowed } from '../../utils/selectionIsAllowed';\r\n\r\nconst board = ({state, clickHandler}) => {\r\n  return (\r\n    <div className={classes['board-container']}>\r\n      {state.board.map((figure, index) => {\r\n        const [i, j] = mapIndexToCoords(index);\r\n        const squareState = state.selectedSquare === index ? 'selected' :\r\n          state.allowedMoves.includes(index) ? 'allowed' :\r\n            state.checkedSquare === index ? 'checked' : null;\r\n\r\n        return <Square\r\n          key={mapIndexToKey(index)}\r\n          url={figure ? `url(${figure.image})` : 'none'}\r\n          color={(i + j) % 2 === 0 ? 'light' : 'dark'}\r\n          state={squareState}\r\n          clicked={() => clickHandler(state, index)}\r\n        />\r\n      })}\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    state\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    clickHandler: (state, square) => {\r\n      if (state.selectedSquare !== null) {\r\n        if (state.selectedSquare === square) {\r\n          dispatch({type: 'DESELECT'})\r\n        } else {\r\n          if (state.allowedMoves.includes(square)) {\r\n            const action = {type: 'MOVE', from: state.selectedSquare, to: square};\r\n            // dispatch(action);\r\n            state.socket.emit('makeMove', {action, roomId: state.gameId});\r\n          }\r\n        }\r\n      } else {\r\n        if (selectionIsAllowed(state, square)) {\r\n          dispatch({type: 'SELECT', id: square})\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(board);\r\n","export const selectionIsAllowed = (state, id) => {\r\n  return (\r\n    (state.player === 'white' ? state.whiteMove : !state.whiteMove) &&\r\n    state.board[id] &&\r\n    (state.board[id].player === state.player)\r\n  )\r\n};\r\n","import React from 'react';\r\nimport { connect } from  'react-redux';\r\n\r\nimport classes from './takenPieces.module.css';\r\n\r\nconst takenPieces = ({player, taken}) => {\r\n  const classesArr = [classes['taken'], classes[`taken-${player}`]];\r\n\r\n  const summed = taken[player].length ?\r\n    taken[player].reduce((sum, figure) => {\r\n      return sum.hasOwnProperty(figure.name) ?\r\n        {...sum, [figure.name]: [figure.image, ++sum[figure.name][1]]} :\r\n        {...sum, [figure.name]: [figure.image, 1]}\r\n    }, {}) : {};\r\n\r\n  const elements = Object.values(summed) ? Object.values(summed).map(([url, num], index) =>\r\n    <div key={index}\r\n         className={classes['figure']}\r\n         style={{backgroundImage: `url(${url})`}}>\r\n      {num > 1 ? <div className={classes['number']}>{num}</div> : null}\r\n    </div>) : null;\r\n\r\n  return (\r\n    <div className={classesArr.join(' ')}>\r\n      {elements}\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    taken: state.taken\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(takenPieces);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport classes from './currentPlayer.module.css';\r\n\r\nconst currentPlayer = ({player}) => {\r\n  const classesArr = [classes['current-square'], classes[`current-${player}`]];\r\n\r\n  return (\r\n    <div className={classes['current-container']}>\r\n      Move: <div className={classesArr.join(' ')} />\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    player: state.whiteMove ? 'white' : 'black'\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(currentPlayer);\r\n","import React from 'react';\r\n\r\nimport classes from './game.module.css';\r\nimport Board from '../board/board';\r\nimport TakenPieces from \"../takenPieces/takenPieces\";\r\nimport CurrentPlayer from '../currentPlayer/currentPlayer';\r\n\r\nconst game = () => {\r\n  window.onbeforeunload = () => {\r\n    return window.confirm('Do you really want to leave? Game will be lost');\r\n  };\r\n  return (\r\n    <div className={classes['game']}>\r\n      <div className={classes['field']}>\r\n        <TakenPieces player='black'/>\r\n        <Board />\r\n        <TakenPieces player='white'/>\r\n      </div>\r\n      <CurrentPlayer />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default game;\r\n","import React from 'react';\r\n\r\nimport classes from \"./tab.module.css\";\r\n\r\nconst tab = ({isActive, clicked, children}) => {\r\n  const classesArr = [classes['tab-item']];\r\n  if (isActive) {\r\n    classesArr.push(classes['tab-active'])\r\n  }\r\n\r\n  return (\r\n    <div className={classesArr.join(' ')} onClick={clicked}>{children}</div>\r\n  )\r\n};\r\n\r\nexport default tab;\r\n","import React, { Component } from 'react';\r\nimport { connect } from  'react-redux';\r\n\r\nimport classes from './landingPage.module.css';\r\nimport Tab from './tab/tab';\r\n\r\nclass LandingPage extends Component {\r\n\r\n  state = {\r\n    selectedTab: 'new'\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    const idInput = document.getElementById('idInput');\r\n    if (idInput) idInput.select();\r\n  }\r\n\r\n  newGame = () => {\r\n    const name = document.getElementById('name').value;\r\n    this.props.socket.emit('createGame', {name});\r\n  };\r\n\r\n  joinGame = () => {\r\n    const name = document.getElementById('name').value;\r\n    const gameId = document.getElementById('gameId').value;\r\n    this.props.socket.emit('joinGame', {name, roomId: gameId});\r\n  };\r\n\r\n  selectTab(name) {\r\n    this.setState({\r\n      selectedTab: name\r\n    });\r\n  }\r\n\r\n  copyId() {\r\n    const idInput = document.getElementById('idInput');\r\n    idInput.select();\r\n    document.execCommand('copy');\r\n  }\r\n\r\n  render () {\r\n    const tabContent = <>\r\n      <label>Enter your name:</label>\r\n      <input type=\"text\" id=\"name\" placeholder=\"Name\"/>\r\n      {this.state.selectedTab === 'new' ?\r\n        <button onClick={this.newGame}>Create game</button>\r\n      : <>\r\n          <label>Enter game ID:</label>\r\n          <input type=\"text\" name=\"id\" id=\"gameId\" placeholder=\"Game ID\"/>\r\n          <button onClick={this.joinGame}>Join game</button>\r\n        </>\r\n      }\r\n    </>;\r\n\r\n    const landingPage = <>\r\n      <Tab clicked={() => this.selectTab('new')} isActive={this.state.selectedTab === 'new'}>New game</Tab>\r\n      <Tab clicked={() => this.selectTab('join')} isActive={this.state.selectedTab === 'join'}>Join game</Tab>\r\n      <div className={classes['tab-content']}>{tabContent}</div>\r\n    </>;\r\n\r\n    return <div className={classes['container']}>\r\n      {this.props.gameId ?\r\n        <div className={classes['waiting-container']}>\r\n          <p>Waiting for opponent...</p>\r\n\r\n          <p>Game ID: <input id='idInput' readOnly value={this.props.gameId} /><i onClick={this.copyId} className=\"fas fa-copy\" /></p>\r\n          <p>Share this ID with your friend, so they can join.</p>\r\n\r\n        </div>\r\n        : landingPage}\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    socket: state.socket,\r\n    gameId: state.gameId\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(LandingPage);\r\n","export const possibleMoves = (board, selected) => {\r\n  return selected !== null ? board[selected].getMoves(board, selected)\r\n    .filter(id => board[id] ? board[id].player !== board[selected].player : true)\r\n    : [];\r\n};\r\n","export default class Piece {\r\n  constructor(color, url, name) {\r\n    this.player = color;\r\n    this.image = url;\r\n    this.name = name;\r\n    this.firstMove = true;\r\n  }\r\n}\r\n","import { mapCoordsToIndex } from \"./utils\";\r\n\r\nconst wrapper = (func) => (...args) => func(...args).filter(onBoardRange).map(mapCoordsToIndex);\r\nconst onBoardRange = el => (el[0] >= 0 && el[0] <= 7 && el[1] >= 0 && el[1] <= 7);\r\n\r\nexport const coords = {\r\n  row: wrapper(i => [[i, 0], [i, 1], [i, 2], [i, 3], [i, 4], [i, 5], [i, 6], [i, 7]]),\r\n  column: wrapper(j => [[0, j], [1, j], [2, j], [3, j], [4, j], [5, j], [6, j], [7, j]]),\r\n  diagonalX: wrapper(shiftY => [[0, 0], [1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7]]\r\n    .map(el => [el[0] + shiftY, el[1]])),\r\n  diagonalY: wrapper(shiftY => [[0, 7], [1, 6], [2, 5], [3, 4], [4, 3], [5, 2], [6, 1], [7, 0]]\r\n    .map(el => [el[0] + shiftY, el[1]])),\r\n  shapeL: wrapper((i, j) =>\r\n    [[i-2, j-1], [i-2, j+1], [i-1, j-2], [i-1, j+2], [i+1, j-2], [i+1, j+2], [i+2, j-1], [i+2, j+1]]),\r\n  around: wrapper((i, j) =>\r\n    [[i-1, j-1], [i-1, j], [i-1, j+1], [i, j-1], [i, j+1], [i+1, j-1], [i+1, j], [i+1, j+1]]),\r\n  forward: wrapper((i, j, direction) => [[i + direction, j], [i + 2 * direction, j]]),\r\n  sides: wrapper((i, j, direction) => [[i + direction, j + 1], [i + direction, j - 1]])\r\n};\r\n\r\n","export const selectEmptyRange = (indicesList, board, id) => {\r\n  const start = indicesList.slice(0, indicesList.indexOf(id))\r\n    .filter(index => index !== id)\r\n    .map(index => board[index] ? 1 : 0)\r\n    .lastIndexOf(1);\r\n  const end = indicesList.slice(indicesList.indexOf(id) + 1 )\r\n    .map(index => board[index] ? 1 : 0)\r\n    .indexOf(1);\r\n\r\n  return indicesList.slice(\r\n    start === -1 ? 0 : start,\r\n    end === -1 ? indicesList.length + 1 : indicesList.indexOf(id) + end + 2\r\n  )\r\n};\r\n","import Piece from './piece';\r\nimport { coords } from '../../utils/coords';\r\nimport { selectEmptyRange } from \"../../utils/selectEmptyRange\";\r\nimport { mapIndexToCoords } from \"../../utils/utils\";\r\n\r\nexport default class Queen extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg';\r\n    super(color, url, 'Queen');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    const [i, j] = mapIndexToCoords(id);\r\n    const row = selectEmptyRange(coords.row(i), board, id);\r\n    const col = selectEmptyRange(coords.column(j), board, id);\r\n    const diagonalX = selectEmptyRange(coords.diagonalX(i - j), board, id);\r\n    const diagonalY = selectEmptyRange(coords.diagonalY(i + j - 7), board, id);\r\n\r\n    return [...row, ...col, ...diagonalX, ...diagonalY];\r\n  }\r\n}\r\n","import Queen from '../components/pieces/queen';\r\n\r\nexport const prepareNewBoard = (state, action) => {\r\n  const player = state.whiteMove ? 'white' : 'black';\r\n  const updatedBoard = [...state.board];\r\n\r\n  updatedBoard[action.from] = null;\r\n\r\n  // Check if pawn should be promoted\r\n  updatedBoard[action.to] = state.board[action.from].name === 'Pawn' && (action.to <= 7 || action.to >= 56) ?\r\n    new Queen(player) : state.board[action.from];\r\n\r\n  // Check for castling\r\n  if (state.board[action.from].name === 'King' && action.from - action.to === 2) {\r\n    updatedBoard[action.from - 4] = null;\r\n    updatedBoard[action.from - 1] = state.board[action.from - 4];\r\n  } else if (state.board[action.from].name === 'King' && action.from - action.to === -2) {\r\n    updatedBoard[action.from + 3] = null;\r\n    updatedBoard[action.from + 1] = state.board[action.from + 3];\r\n  }\r\n\r\n  return updatedBoard;\r\n};\r\n","import { possibleMoves } from './possibleMoves';\r\n\r\nexport const isChecked = (board, king) => {\r\n  return board.map((figure, index) => ({figure, index}))\r\n  .filter(square =>\r\n    square.figure && square.figure.player === (king.figure.player === 'white' ? 'black' : 'white'))\r\n    .reduce((total, square) => {\r\n      return [...total, ...possibleMoves(board, square.index)]\r\n    }, [])\r\n    .includes(king.index)\r\n};\r\n","export const getKing = (board, player) => {\r\n  return board.map((figure, index) => ({figure, index}))\r\n  .filter(square => square.figure &&\r\n    square.figure.player === player &&\r\n    square.figure.name === 'King'\r\n  )[0];\r\n};\r\n","import { possibleMoves } from './possibleMoves';\r\nimport { prepareNewBoard } from './prepareNewBoard';\r\nimport { isChecked } from './isChecked';\r\nimport { getKing } from './getKing';\r\n\r\nexport const allowedMoves = (state, selected) => {\r\n  return possibleMoves(state.board, selected)\r\n    .filter(move => {\r\n      const updatedBoard = prepareNewBoard(state, {from: selected, to: move});\r\n      const king = getKing(updatedBoard, updatedBoard[move].player);\r\n\r\n      return !isChecked(updatedBoard, king);\r\n    })\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect, Switch, withRouter } from 'react-router-dom';\r\n\r\nimport Game from './components/game/game';\r\nimport LandingPage from './components/landingPage/landingPage';\r\nimport { connect } from  'react-redux';\r\nimport { checkGameEnd } from \"./utils/checkGameEnd\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    props.socket.on('gameCreated', ({roomId}) => {\r\n      props.setGame(roomId, 'white');\r\n    });\r\n\r\n    props.socket.on('gameJoined', ({roomId}) => {\r\n      props.setGame(roomId, 'black');\r\n    });\r\n\r\n    props.socket.on('startGame', () => {\r\n      this.startGame();\r\n    });\r\n\r\n    props.socket.on('endGame', () => {\r\n      this.endGame();\r\n    });\r\n\r\n    props.socket.on('moveMade', (action) => {\r\n      this.handleMove(action);\r\n    });\r\n  }\r\n\r\n  startGame = () => {\r\n    this.props.history.push(`/${this.props.gameId}`)\r\n  };\r\n\r\n  endGame = () => {\r\n    alert('Opponent has left the game');\r\n    this.props.clearGame();\r\n  };\r\n\r\n  handleMove(action) {\r\n    this.props.moveHandler(action);\r\n    checkGameEnd(this.props.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LandingPage} />\r\n        {this.props.gameId ? <Route path={`/${this.props.gameId}`} component={Game} /> : null}\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    state: state,\r\n    socket: state.socket,\r\n    gameId: state.gameId\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    moveHandler: (action) => dispatch(action),\r\n    setGame: (roomId, player) => dispatch({\r\n      type: 'SET_GAME',\r\n      gameId: roomId,\r\n      player: player\r\n    }),\r\n    clearGame: () => dispatch({\r\n      type: 'CLEAR_GAME'\r\n    })\r\n  }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\r\n","import { allowedMoves } from './allowedMoves';\r\nimport { isChecked } from './isChecked';\r\nimport { getKing } from './getKing';\r\n\r\nexport const checkGameEnd = (state) => {\r\n  const player = state.whiteMove ? 'white' : 'black';\r\n  const king = getKing(state.board, player);\r\n\r\n  const allAllowedMoves = state.board.map((figure, index) => ({figure, index}))\r\n    .filter(square => square.figure && square.figure.player === player)\r\n    .reduce((moves, square) => {\r\n      return [...moves, ...allowedMoves(state, square.index)]\r\n  }, []) ;\r\n\r\n  const endMessage = allAllowedMoves.length === 0 ?\r\n    isChecked(state.board, king) ? `Checkmate! ${state.whiteMove ? 'Black' : 'White'} wins!` : 'Stalemate!'\r\n    : null;\r\n  if (endMessage) alert(endMessage);\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import Piece from './piece';\r\nimport { coords } from '../../utils/coords';\r\nimport { selectEmptyRange } from '../../utils/selectEmptyRange';\r\nimport { mapIndexToCoords } from '../../utils/utils';\r\n\r\nexport default class Bishop extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg';\r\n    super(color, url, 'Bishop');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    const [i, j] = mapIndexToCoords(id);\r\n    const diagonalX = selectEmptyRange(coords.diagonalX(i - j), board, id);\r\n    const diagonalY = selectEmptyRange(coords.diagonalY(i + j - 7), board, id);\r\n\r\n    return [...diagonalX, ...diagonalY];\r\n  }\r\n}\r\n","import Piece from './piece';\r\nimport { coords } from '../../utils/coords';\r\nimport { mapIndexToCoords } from \"../../utils/utils\";\r\n\r\nexport default class King extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg';\r\n    super(color, url, 'King');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    const [i, j] = mapIndexToCoords(id);\r\n    const movement = coords.around(i, j);\r\n    const castlingRight = this.firstMove &&\r\n      board[id + 3] && board[id + 3].firstMove &&\r\n      !board[id + 1] && !board[id + 2] ? [8 * i + 6] : [];\r\n    const castlingLeft = this.firstMove &&\r\n      board[id - 4] && board[id - 4].firstMove &&\r\n      !board[id - 1] && !board[id - 2] &&\r\n      !board[id - 3] ? [8 * i + 2] : [];\r\n\r\n    return [...movement, ...castlingRight, ...castlingLeft];\r\n  }\r\n}\r\n","import Piece from './piece';\r\nimport { coords } from '../../utils/coords';\r\nimport { mapIndexToCoords } from '../../utils/utils';\r\n\r\nexport default class Knight extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg';\r\n    super(color, url, 'Knight');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    return coords.shapeL(...mapIndexToCoords(id))\r\n  }\r\n}\r\n","import Piece from './piece';\r\nimport { mapIndexToCoords } from \"../../utils/utils\";\r\nimport { coords } from '../../utils/coords';\r\n\r\nexport default class Pawn extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg';\r\n    super(color, url, 'Pawn');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    const [i, j] = mapIndexToCoords(id);\r\n    const direction = this.player === 'black' ? 1 : -1;\r\n\r\n    const capturing = coords.sides(i, j, direction)\r\n      .filter(el => board[el]);\r\n\r\n    const [firstSquare, secondSquare] = coords.forward(i, j, direction);\r\n    const movement = board[firstSquare] ? [] :\r\n      this.firstMove && !board[secondSquare] ? [firstSquare, secondSquare] :\r\n      [firstSquare];\r\n\r\n    return [...capturing, ...movement];\r\n  }\r\n}\r\n","import Piece from './piece';\r\nimport { coords } from '../../utils/coords';\r\nimport { selectEmptyRange } from '../../utils/selectEmptyRange';\r\nimport { mapIndexToCoords } from '../../utils/utils';\r\n\r\nexport default class Rook extends Piece {\r\n  constructor(color) {\r\n    const url = color === 'white' ?\r\n      'https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg' :\r\n      'https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg';\r\n    super(color, url, 'Rook');\r\n  }\r\n\r\n  getMoves(board, id) {\r\n    const [i, j] = mapIndexToCoords(id);\r\n    const row = selectEmptyRange(coords.row(i), board, id);\r\n    const col = selectEmptyRange(coords.column(j), board, id);\r\n\r\n    return [...row, ...col];\r\n  }\r\n}\r\n","import openSocket from \"socket.io-client\";\r\n\r\nimport { allowedMoves } from '../utils/allowedMoves';\r\nimport { initializeBoard } from '../utils/initializeBoard';\r\nimport { prepareNewBoard } from '../utils/prepareNewBoard';\r\nimport { isChecked } from '../utils/isChecked';\r\nimport { getKing } from '../utils/getKing';\r\n\r\nconst initialState = {\r\n  gameId: null,\r\n  player: null,\r\n  // socket: openSocket('http://localhost:3001'),\r\n  socket: openSocket('https://reactive-chess.herokuapp.com/'),\r\n  board: initializeBoard(),\r\n  taken: {\r\n    black: [],\r\n    white: []\r\n  },\r\n  whiteMove: true,\r\n  selectedSquare: null,\r\n  checkedSquare: null,\r\n  allowedMoves: []\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_GAME':\r\n      return {\r\n        ...state,\r\n        gameId: action.gameId,\r\n        player: action.player,\r\n      };\r\n    case 'CLEAR_GAME':\r\n      return initialState;\r\n    case 'SELECT':\r\n      return {\r\n        ...state,\r\n        selectedSquare: action.id,\r\n        allowedMoves: allowedMoves(state, action.id)\r\n      };\r\n    case 'DESELECT':\r\n      return {\r\n        ...state,\r\n        selectedSquare: null,\r\n        allowedMoves: []\r\n      };\r\n    case 'MOVE':\r\n      state.board[action.from].firstMove = false;\r\n\r\n      const player = state.whiteMove ? 'white' : 'black';\r\n      const updatedBoard = prepareNewBoard(state, action);\r\n      const updatedTaken = state.board[action.to] ?\r\n        {\r\n          ...state.taken,\r\n          [player]: [...state.taken[player], state.board[action.to]]\r\n        } :\r\n        state.taken;\r\n\r\n      const opponent = player === 'white' ? 'black' : 'white';\r\n      const king = getKing(state.board, opponent);\r\n\r\n      return {\r\n        ...state,\r\n        board: updatedBoard,\r\n        taken: updatedTaken,\r\n        whiteMove: !state.whiteMove,\r\n        selectedSquare: null,\r\n        allowedMoves: [],\r\n        checkedSquare: isChecked(updatedBoard, king) ? king.index : null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import Bishop from \"../components/pieces/bishop\";\r\nimport King from \"../components/pieces/king\";\r\nimport Knight from \"../components/pieces/knight\";\r\nimport Pawn from \"../components/pieces/pawn\";\r\nimport Queen from \"../components/pieces/queen\";\r\nimport Rook from \"../components/pieces/rook\";\r\n\r\nimport { mapIndexToKey } from './utils';\r\n\r\nexport const initializeBoard = () => {\r\n  const initialSetup = {\r\n    a1: new Rook('white'),\r\n    b1: new Knight('white'),\r\n    c1: new Bishop('white'),\r\n    d1: new Queen('white'),\r\n    e1: new King('white'),\r\n    f1: new Bishop('white'),\r\n    g1: new Knight('white'),\r\n    h1: new Rook('white'),\r\n    a2: new Pawn('white'),\r\n    b2: new Pawn('white'),\r\n    c2: new Pawn('white'),\r\n    d2: new Pawn('white'),\r\n    e2: new Pawn('white'),\r\n    f2: new Pawn('white'),\r\n    g2: new Pawn('white'),\r\n    h2: new Pawn('white'),\r\n    a7: new Pawn('black'),\r\n    b7: new Pawn('black'),\r\n    c7: new Pawn('black'),\r\n    d7: new Pawn('black'),\r\n    e7: new Pawn('black'),\r\n    f7: new Pawn('black'),\r\n    g7: new Pawn('black'),\r\n    h7: new Pawn('black'),\r\n    a8: new Rook('black'),\r\n    b8: new Knight('black'),\r\n    c8: new Bishop('black'),\r\n    d8: new Queen('black'),\r\n    e8: new King('black'),\r\n    f8: new Bishop('black'),\r\n    g8: new Knight('black'),\r\n    h8: new Rook('black')\r\n  };\r\n\r\n  return Array(64).fill(null)\r\n    .map((el, index) => {\r\n      const key = mapIndexToKey(index);\r\n      return initialSetup.hasOwnProperty(key) ? initialSetup[key] : el;\r\n    });\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducer from './store/reducer';\r\n\r\nconst store = createStore(reducer);\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taken\":\"takenPieces_taken__EaYaT\",\"taken-white\":\"takenPieces_taken-white__3YiLr\",\"taken-black\":\"takenPieces_taken-black__2e9ox\",\"figure\":\"takenPieces_figure__13VlE\",\"number\":\"takenPieces_number__knijx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"square_square__3aaD-\",\"square-light\":\"square_square-light__2Byps\",\"square-dark\":\"square_square-dark__1oFKM\",\"square-selected\":\"square_square-selected__15z7V\",\"square-checked\":\"square_square-checked__1-Vqq\",\"square-allowed\":\"square_square-allowed__bXO7e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"current-container\":\"currentPlayer_current-container__hfQzT\",\"current-square\":\"currentPlayer_current-square__72FGf\",\"current-black\":\"currentPlayer_current-black__1rcxs\",\"current-white\":\"currentPlayer_current-white__u0UHW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"landingPage_container__313xh\",\"waiting-container\":\"landingPage_waiting-container__2CX5a\",\"tab-content\":\"landingPage_tab-content___wWL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"game_game__3lnfE\",\"field\":\"game_field__2eiKM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab-item\":\"tab_tab-item__3S6SW\",\"tab-active\":\"tab_tab-active__b0Oz9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board-container\":\"board_board-container__3zE84\"};"],"sourceRoot":""}